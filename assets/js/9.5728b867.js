(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{185:function(a,t,v){"use strict";v.r(t);var e=v(6),_=Object(e.a)({},(function(){var a=this,t=a.$createElement,v=a._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[v("h1",{attrs:{id:"功能模块-后端"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#功能模块-后端"}},[a._v("#")]),a._v(" 功能模块--后端")]),a._v(" "),v("p",[a._v("后端使用Python社区成熟的Web框架Django，除了强大的后台系统外，还提供了一套完善API。")]),a._v(" "),v("h2",{attrs:{id:"数据库"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[a._v("#")]),a._v(" 数据库")]),a._v(" "),v("p",[a._v("本系统将元器件信息存储在数据库中，管理系统下主要有"),v("code",[a._v("Type")]),a._v("、"),v("code",[a._v("Attr")]),a._v("、"),v("code",[a._v("Component")]),a._v("、"),v("code",[a._v("Record")]),a._v("四张表，主要业务就是对这四个表进行增删改查。")]),a._v(" "),v("h3",{attrs:{id:"存储结构"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#存储结构"}},[a._v("#")]),a._v(" 存储结构")]),a._v(" "),v("p",[a._v("围绕"),v("code",[a._v("Component")]),a._v("，"),v("code",[a._v("Record")]),a._v("与"),v("code",[a._v("Component")]),a._v("，负责出入库记录，"),v("code",[a._v("Type")]),a._v("和"),v("code",[a._v("Attr")]),a._v("则与"),v("code",[a._v("Component")]),a._v("是一对多的关系，辅助"),v("code",[a._v("Component")]),a._v("的筛选。")]),a._v(" "),v("p",[a._v("主要关注的是交易（在库）金额和交易（在苦苦）数量。")]),a._v(" "),v("h3",{attrs:{id:"兼容主流数据库"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#兼容主流数据库"}},[a._v("#")]),a._v(" 兼容主流数据库")]),a._v(" "),v("p",[a._v("得益于Django框架强大的ORM模块，可以很好的切换不同的数据库，小至Sqlite3，大至MySQL，PostgreSQL，可根据自己的需求选择适合生产要求的数据库。")]),a._v(" "),v("h2",{attrs:{id:"统计"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#统计"}},[a._v("#")]),a._v(" 统计")]),a._v(" "),v("h3",{attrs:{id:"交易记录"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#交易记录"}},[a._v("#")]),a._v(" 交易记录")]),a._v(" "),v("p",[a._v("基于存储的"),v("code",[a._v("Record")]),a._v("，可查询每年/月/天的出入库的聚合（汇总）情况。")]),a._v(" "),v("h3",{attrs:{id:"组件信息"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#组件信息"}},[a._v("#")]),a._v(" 组件信息")]),a._v(" "),v("p",[a._v("正确添加的记录（而不是绕过系统去修改数据库）可以增减到组件信息上，查询每个组件的在库信息是十分容易的事情。")]),a._v(" "),v("p",[a._v("后端可以在"),v("code",[a._v("/Admin/main/")]),a._v("中看到。")]),a._v(" "),v("h2",{attrs:{id:"admin"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#admin"}},[a._v("#")]),a._v(" Admin")]),a._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[a._v("/admin/\n")])])]),v("p",[a._v("Django自带了功能强大的后台系统，这里超级管理可进行全局管理，而无需运行Python命令或直接操作数据库。")]),a._v(" "),v("p",[a._v("这一后台系统也可以完成许多基础查询需求。")]),a._v(" "),v("h2",{attrs:{id:"restful-api"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#restful-api"}},[a._v("#")]),a._v(" RESTful API")]),a._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[a._v("/api/\n")])])]),v("p",[a._v("后端系统基于"),v("code",[a._v("Django REST Framework")]),a._v("提供了RESTful API，便用使用者二次开发，也就是说交互部分、显示部分，完全可以不使用自带前端，而自己进行开发，二次开发者可以基于API开发PC应用或移动软件。")]),a._v(" "),v("h2",{attrs:{id:"用户系统"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#用户系统"}},[a._v("#")]),a._v(" 用户系统")]),a._v(" "),v("p",[a._v("提供了较为完善的用户系统，包括用户分级、分组，权限系统，邮箱验证，第三方登录，基于"),v("code",[a._v("JWT")]),a._v("认证，便于前后端分离的开发。")]),a._v(" "),v("h3",{attrs:{id:"权限机制"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#权限机制"}},[a._v("#")]),a._v(" 权限机制")]),a._v(" "),v("p",[a._v("完善的权限机制，系统默认采取了严格的权限策略：无论读写都需要管理员权限，也因此后端接口不便在浏览器直接访问测试。")]),a._v(" "),v("h3",{attrs:{id:"第三方登录"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#第三方登录"}},[a._v("#")]),a._v(" 第三方登录")]),a._v(" "),v("p",[a._v("默认提供了Github的第三方登录，OAuth2.0的授权流程十分相似，可参考Github流程接入国内微信、新浪微博等主流平台，在默认的前端系统中没有使用第三方登录")]),a._v(" "),v("h3",{attrs:{id:"邮箱认证"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#邮箱认证"}},[a._v("#")]),a._v(" 邮箱认证")]),a._v(" "),v("p",[a._v("提供了邮箱认证功能，默认不开启，需要提供邮箱服务器，并开启Celery、Redis服务（防止阻塞，提升体验）。")]),a._v(" "),v("h2",{attrs:{id:"文档"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文档"}},[a._v("#")]),a._v(" 文档")]),a._v(" "),v("p",[a._v("尝试提供完善的文档，本文档基于"),v("code",[a._v("VuePress")]),a._v("构建，简介美观。")])])}),[],!1,null,null,null);t.default=_.exports}}]);